<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/static/index.css" />
    <link rel="stylesheet" href="/static/popups.css" />
    <script defer src="/static/index.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory Tracker</title>
</head>
<body>
    <div id="main">
        <div id="input" class="box">
            <p class="title">Quick Actions</p>     
            <div id="buttons">
                <button onClick="printDB()">Print Database</button>
                <button onCLick="resetDB()">Reset Database</button>
                <button onClick="addLocation()">Add/Edit Location</button>
                <button onClick="addBox()">Add/Edit Box</button>
                <button onclick="location.href='locations.html'">Locations</button>
            </div>
        </div>
    </div>
    <div id="locationPopup" class="popup">
        
        <div class="container">
            <div class="xButtonDiv">
                <button onClick="exitLocationPopup()"class="x">X</button>
            </div>
            <div id="locationBarcode">
                <div id="scan">
                    <input placeholder="Scan Barcode" id="barcodeLocationInput">
                    <p></p>
                    <button id="submit" onClick="submitLocationBarcode()">submit
                        <span class="errorPopup" id="locationErrorPopup">Invalid Barcode</span>
                    </button>
                </div>
                <p class="or">OR</p>
                <div id="select" class="selectMain">
                    <p>Select location:</p>
                    <div id="locationsSelect" class="selectSub">
                    </div>
                </div>
            </div>
            <div id="locationInfo">
                <div id="topDiv">
                    <img id="locImg" src=""></img>
                    <div id="imgButtonDiv">
                        <button id="imgButton" onClick="camera()">Add/Change Image</button>
                    </div>
                    <img id="barcodeImg"></img>
                    <div id="printDiv">
                        <button id="print" onClick="printBarcode()">Print Barcode</button>
                        <input type="checkbox" id="includeLocationName">
                        <label id="includeNameLabel">Include Name</label><br>
                    </div>
                </div>
                <div id="inputDiv">
                    <input placeholder="Name" id="locationNameInput">
                    
                    <textarea placeholder="Description" id="descriptionInput"></textarea>
                </div>
                <div id="finishs">
                    
                    <div id="boxesListSelect" class="selectMain">
                        <p>boxes:</p>
                        <div id="select" class="selectSub">
                            <!-- <div class='mini'>
                                <button>
                                    <img src='/resources/imageTemplate.png'>
                                    <p id='name'>${location.name}</p>
                                    <p id='code'>${location.barcode}</p>
                                </button>
                            </div> -->
                            
                            
                        </div>
                    </div>
                    <div id="finishDiv">
                        <button id="history" onClick="locationHistoryPopup()">View History</button>
                        <button id="finish" onClick="finishLocation()">Finish</button>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
    <div id="cameraPopup" class="popup">
        <div class="container">
            <div class="xButtonDiv">
                <button onClick="exitCameraPopup()" class="x">X</button>
            </div>
            <div id="box">
                <div id="camera">
                    <video id="video">Video stream not available.</video>
                    <button id="start-button">Take photo</button>
                </div>
                <div id="confirm">
                    <canvas id="canvas"> </canvas>
                    <button id="retake" onClick="retake()">Retake photo</button>
                    <button id="save" onClick="save()">save photo</button>
                </div>
            </div>
        </div>
    </div>
    <div id="locationHistoryPopup" class="popup">
        
        <div class="container">
            <div class="xButtonDiv">
                <button onClick="exitLocationHistoryPopup()"class="x">X</button>
            </div>
            <div id="historyDiv">
                <div id="titleDiv"><p class='title'>History</p></div>
                <div id="headerEntry" class="entry">
                    <b id='nameDiv' class='subEntry'>Image</b>
                    <b id='nameDiv' class='subEntry'>Name</b>
                    <b id='descDiv' class='subEntry'>Description</b>
                    <b id='boxDiv' class='subEntry'>Boxes</b>
                    <b id='timeDiv' class='subEntry'>Time</b>
                    <b id='versDiv' class='subEntry'>Version</b>
                </div>
            </div> 
        </div>
    </div>
    <div id="boxPopup" class="popup">
        
        <div class="container">
            <div class="xButtonDiv">
                <button onClick="exitBoxPopup()"class="x">X</button>
            </div>
            <div id="boxBarcode">
                <div id="scan">
                    <input placeholder="Scan Barcode" id="barcodeBoxInput">
                    <p></p>
                    <button id="submit" onClick="submitBoxBarcode()">submit
                        <span id="boxErrorPopup" class="errorPopup">Invalid Barcode</span>
                    </button>
                </div>
                <p class="or">OR</p>
                <div id="select" class="selectMain">
                    <p>Select box:</p>
                    <div id="boxesSelect" class="selectSub">
                    </div>
                </div>
            </div>
            <div id="boxInfo">
                <div id="topDiv">
                    <img id="boxImg" src=""></img>
                    <div id="imgButtonDiv">
                        <button id="imgButton" onClick="camera()">Add/Change Image</button>
                    </div>
                    <img id="barcodeImg"></img>
                    <div id="printDiv">
                        <button id="print" onClick="printBarcode()">Print Barcode</button>
                        <input type="checkbox" id="includeBoxName">
                        <label id="includeNameLabel">Include Name</label><br>
                    </div>
                </div>
                <div id="inputDiv">
                    <input placeholder="Name" id="boxNameInput">
                    
                    <textarea placeholder="Description" id="descriptionInput"></textarea>
                </div>
                <div id="finishs">
                    
                    <div id="itemsSelect" class="selectMain">
                        <p>items:</p>
                        <div id="select" class="selectSub">
                            <div class='mini'>
                                <button>
                                    <img src='/resources/imageTemplate.png'>
                                    <p id='name'>${location.name}</p>
                                    <p id='code'>${location.barcode}</p>
                                </button>
                            </div>
                            
                            
                        </div>
                    </div>
                    <div id="finishDiv">
                        <button id="history" onClick="boxHistoryPopup()">View History</button>
                        <button id="finish" onClick="finishBoxMain()">Finish</button>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
</body>